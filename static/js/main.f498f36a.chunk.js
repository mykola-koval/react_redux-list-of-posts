(this["webpackJsonpreact_redux-list-of-posts"]=this["webpackJsonpreact_redux-list-of-posts"]||[]).push([[0],{25:function(t,e,n){},27:function(t,e,n){},28:function(t,e,n){},29:function(t,e,n){},30:function(t,e,n){},31:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n(10),a=n.n(c),s=n(6),u=n(16),o=n(3),i=n(5),p=n(2),l=n.n(p),j="https://mate.academy/students-api";function f(){return b.apply(this,arguments)}function b(){return(b=Object(o.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(j,"/posts"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(){return m.apply(this,arguments)}function m(){return(m=Object(o.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(j,"/users"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(t){return O.apply(this,arguments)}function O(){return(O=Object(o.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(j,"/posts?userId=").concat(e));case 2:return n=t.sent,t.abrupt("return",n.json());case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(t){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(j,"/posts/").concat(e));case 2:return n=t.sent,t.abrupt("return",n.json());case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t){return _.apply(this,arguments)}function _(){return(_=Object(o.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(j,"/comments?postId=").concat(e));case 2:return n=t.sent,t.abrupt("return",n.json());case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var w=function(){var t=Object(o.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(j,"/comments/").concat(e),{method:"DELETE"});case 2:return n=t.sent,t.abrupt("return",n.json());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),N=function(){var t=Object(o.a)(l.a.mark((function t(e,n,r,c){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(j,"/comments"),{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({postId:e,name:n,email:r,body:c})});case 2:return a=t.sent,t.abrupt("return",a.json());case 4:case"end":return t.stop()}}),t)})));return function(e,n,r,c){return t.apply(this,arguments)}}(),k="LOAD_POSTS",C="LOAD_USERS",D="LOAD_POST_DETAILS",P="LOAD_POST_COMMENTS",S=function(t){return{type:k,payload:t}},g=function(t){return{type:D,payload:t}},A=function(t){return{type:P,payload:t}},L=function(t){return t.posts},E=function(t){return t.users},T=function(t){return t.postDetails},F=function(t){return t.postComments},I=(n(25),n(1)),U=function(){var t=Object(r.useState)(0),e=Object(i.a)(t,2),n=e[0],c=e[1],a=Object(s.b)(),u=Object(s.c)(L);Object(r.useEffect)((function(){var t=function(){var t=Object(o.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f();case 2:e=t.sent,a(S(e));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]);var p=function(){var t=Object(o.a)(l.a.mark((function t(e){var r,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x(e);case 2:return r=t.sent,t.next=5,y(e);case 5:s=t.sent,a(g(r)),a(A(s)),n===e?(c(0),a(g(null))):c(e);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(I.jsxs)("section",{className:"PostsList",children:[Object(I.jsx)("h2",{children:"Posts:"}),Object(I.jsx)("ul",{className:"PostsList__list",children:u.map((function(t){return Object(I.jsxs)("li",{className:"PostsList__item",children:[Object(I.jsxs)("div",{children:[Object(I.jsx)("b",{children:"[User #".concat(t.userId,"]: ")}),t.title]}),Object(I.jsx)("button",{type:"button",className:"PostsList__button button",onClick:function(){return p(t.id)},children:t.id===n?"Close":"Open"})]},t.id)}))})]})},q=(n(27),n(28),function(){var t=Object(s.b)(),e=Object(s.c)(E);Object(r.useEffect)((function(){var e=function(){var e=Object(o.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:n=e.sent,t({type:C,payload:n});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var n=function(){var e=Object(o.a)(l.a.mark((function e(n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(n);case 2:r=e.sent,t(S(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(o.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:n=e.sent,t(S(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var t=Object(o.a)(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:0===e?c():n(e);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(I.jsx)("header",{className:"App__header",children:Object(I.jsxs)("label",{htmlFor:"user-selector",children:["Select a user: \xa0",Object(I.jsxs)("select",{id:"user-selector",className:"App__user-selector",onChange:function(t){return a(+t.target.value)},children:[Object(I.jsx)("option",{value:"0",children:"All users"}),e.map((function(t){return Object(I.jsx)("option",{value:t.id,children:t.name},t.id)}))]})]})})}),J=(n(29),function(t){var e=t.postId,n=Object(r.useState)(""),c=Object(i.a)(n,2),a=c[0],u=c[1],p=Object(r.useState)(""),j=Object(i.a)(p,2),f=j[0],b=j[1],d=Object(r.useState)(""),m=Object(i.a)(d,2),h=m[0],O=m[1],x=Object(s.b)(),v=function(){var t=Object(o.a)(l.a.mark((function t(n){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,N(e,a,f,h);case 3:return t.next=5,y(e);case 5:r=t.sent,x(A(r)),u(""),b(""),O("");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(I.jsxs)("form",{className:"NewCommentForm",children:[Object(I.jsx)("div",{className:"form-field",children:Object(I.jsx)("input",{type:"text",name:"name",placeholder:"Your name",className:"NewCommentForm__input",required:!0,value:a,onChange:function(t){return u(t.target.value)}})}),Object(I.jsx)("div",{className:"form-field",children:Object(I.jsx)("input",{type:"text",name:"email",placeholder:"Your email",className:"NewCommentForm__input",required:!0,value:f,onChange:function(t){return b(t.target.value)}})}),Object(I.jsx)("div",{className:"form-field",children:Object(I.jsx)("textarea",{name:"body",placeholder:"Type comment here",className:"NewCommentForm__input",required:!0,value:h,onChange:function(t){return O(t.target.value)}})}),Object(I.jsx)("button",{type:"submit",className:"NewCommentForm__submit-button button",onClick:function(t){return v(t)},children:"Add a comment"})]})}),M=(n(30),function(){var t=Object(r.useState)(!0),e=Object(i.a)(t,2),n=e[0],c=e[1],a=Object(s.c)(T),u=Object(s.c)(F),p=Object(s.b)(),j=function(){var t=Object(o.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(e);case 2:if(!a){t.next=7;break}return t.next=5,y(a.id);case 5:n=t.sent,p(A(n));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(I.jsx)("div",{className:"PostDetails",children:a&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("h2",{children:"Post details:"}),Object(I.jsx)("section",{className:"PostDetails__post",children:Object(I.jsx)("p",{children:a.body})}),Object(I.jsxs)("section",{className:"PostDetails__comments",children:[Object(I.jsx)("button",{type:"button",className:"button",onClick:function(){return c(!n)},children:"".concat(n?"Show":"Hide"," ").concat(u.length," comments")}),!n&&Object(I.jsx)("ul",{className:"PostDetails__list",children:u.map((function(t){return Object(I.jsxs)("li",{className:"PostDetails__list-item",children:[Object(I.jsx)("button",{type:"button",className:"PostDetails__remove-button button",onClick:function(){return j(t.id)},children:"X"}),Object(I.jsx)("p",{children:"User [".concat(t.name,"] says: ").concat(t.body)})]},t.id)}))})]}),Object(I.jsx)("section",{children:Object(I.jsx)("div",{className:"PostDetails__form-wrapper",children:a&&!n&&Object(I.jsx)(J,{postId:a.id})})})]})})}),Y=function(){return Object(I.jsx)("div",{className:"App",children:Object(I.jsxs)("main",{className:"App__main",children:[Object(I.jsxs)("div",{className:"App__sidebar",children:[Object(I.jsx)(q,{}),Object(I.jsx)(U,{})]}),Object(I.jsx)("div",{className:"App__content",children:Object(I.jsx)(M,{})})]})})},B=n(11),H=n(7),R=n(15),X={posts:[],users:[],postDetails:null,postComments:[]},z=Object(R.a)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case k:return Object(H.a)(Object(H.a)({},t),{},{posts:Object(B.a)(e.payload)});case C:return Object(H.a)(Object(H.a)({},t),{},{users:Object(B.a)(e.payload)});case D:return Object(H.a)(Object(H.a)({},t),{},{postDetails:Object(H.a)({},e.payload)});case P:return Object(H.a)(Object(H.a)({},t),{},{postComments:Object(B.a)(e.payload)});default:return t}})),G=function(){return Object(I.jsx)(s.a,{store:z,children:Object(I.jsx)(u.a,{children:Object(I.jsx)(Y,{})})})};a.a.render(Object(I.jsx)(G,{}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.f498f36a.chunk.js.map