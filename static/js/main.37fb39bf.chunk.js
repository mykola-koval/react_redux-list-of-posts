(this["webpackJsonpreact_redux-list-of-posts"]=this["webpackJsonpreact_redux-list-of-posts"]||[]).push([[0],{25:function(t,e,n){},27:function(t,e,n){},28:function(t,e,n){},29:function(t,e,n){},30:function(t,e,n){},31:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n(10),a=n.n(c),s=n(5),o=n(16),u=n(3),i=n(2),p=n.n(i),l="https://mate.academy/students-api";function j(){return b.apply(this,arguments)}function b(){return(b=Object(u.a)(p.a.mark((function t(){var e;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(l,"/posts"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(){return d.apply(this,arguments)}function d(){return(d=Object(u.a)(p.a.mark((function t(){var e;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(l,"/users"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(t){return h.apply(this,arguments)}function h(){return(h=Object(u.a)(p.a.mark((function t(e){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(l,"/posts?userId=").concat(e));case 2:return n=t.sent,t.abrupt("return",n.json());case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(t){return x.apply(this,arguments)}function x(){return(x=Object(u.a)(p.a.mark((function t(e){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(l,"/posts/").concat(e));case 2:return n=t.sent,t.abrupt("return",n.json());case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t){return y.apply(this,arguments)}function y(){return(y=Object(u.a)(p.a.mark((function t(e){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(l,"/comments?postId=").concat(e));case 2:return n=t.sent,t.abrupt("return",n.json());case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var _=function(){var t=Object(u.a)(p.a.mark((function t(e,n,r,c){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(l,"/comments"),{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({postId:e,name:n,email:r,body:c})});case 2:return a=t.sent,t.abrupt("return",a.json());case 4:case"end":return t.stop()}}),t)})));return function(e,n,r,c){return t.apply(this,arguments)}}(),w="LOAD_POSTS",N="LOAD_USERS",k="LOAD_POST_DETAILS",C="LOAD_POST_COMMENTS",P=function(t){return{type:w,payload:t}},D=function(t){return{type:C,payload:t}},S=function(t){return t.posts},g=function(t){return t.users},A=function(t){return t.postDetails},L=function(t){return t.postComments},I=(n(25),n(1)),T=function(){var t=Object(s.b)(),e=Object(s.c)(S);Object(r.useEffect)((function(){var e=function(){var e=Object(u.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:n=e.sent,t(P(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var n=function(){var e=Object(u.a)(p.a.mark((function e(n){var r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(n);case 2:return r=e.sent,e.next=5,v(n);case 5:c=e.sent,t({type:k,payload:r}),t(D(c));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsxs)("section",{className:"PostsList",children:[Object(I.jsx)("h2",{children:"Posts:"}),Object(I.jsx)("ul",{className:"PostsList__list",children:e.map((function(t){return Object(I.jsxs)("li",{className:"PostsList__item",children:[Object(I.jsxs)("div",{children:[Object(I.jsx)("b",{children:"[User #".concat(t.userId,"]: ")}),t.title]}),Object(I.jsx)("button",{type:"button",className:"PostsList__button button",onClick:function(){return n(t.id)},children:"open"})]},t.id)}))})]})},F=(n(27),n(28),function(){var t=Object(s.b)(),e=Object(s.c)(g);Object(r.useEffect)((function(){var e=function(){var e=Object(u.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:n=e.sent,t({type:N,payload:n});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var n=function(){var e=Object(u.a)(p.a.mark((function e(n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(n);case 2:r=e.sent,t(P(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(u.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:n=e.sent,t(P(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var t=Object(u.a)(p.a.mark((function t(e){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:0===e?c():n(e);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(I.jsx)("header",{className:"App__header",children:Object(I.jsxs)("label",{htmlFor:"user-selector",children:["Select a user: \xa0",Object(I.jsxs)("select",{id:"user-selector",className:"App__user-selector",onChange:function(t){return a(+t.target.value)},children:[Object(I.jsx)("option",{value:"0",children:"All users"}),e.map((function(t){return Object(I.jsx)("option",{value:t.id,children:t.name},t.id)}))]})]})})}),E=n(6),U=(n(29),function(t){var e=t.postId,n=Object(r.useState)(""),c=Object(E.a)(n,2),a=c[0],o=c[1],i=Object(r.useState)(""),l=Object(E.a)(i,2),j=l[0],b=l[1],f=Object(r.useState)(""),d=Object(E.a)(f,2),m=d[0],h=d[1],O=Object(s.b)(),x=function(){var t=Object(u.a)(p.a.mark((function t(n){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,_(e,a,j,m);case 3:return t.next=5,v(e);case 5:r=t.sent,O(D(r)),o(""),b(""),h("");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(I.jsxs)("form",{className:"NewCommentForm",children:[Object(I.jsx)("div",{className:"form-field",children:Object(I.jsx)("input",{type:"text",name:"name",placeholder:"Your name",className:"NewCommentForm__input",value:a,onChange:function(t){return o(t.target.value)}})}),Object(I.jsx)("div",{className:"form-field",children:Object(I.jsx)("input",{type:"text",name:"email",placeholder:"Your email",className:"NewCommentForm__input",value:j,onChange:function(t){return b(t.target.value)}})}),Object(I.jsx)("div",{className:"form-field",children:Object(I.jsx)("textarea",{name:"body",placeholder:"Type comment here",className:"NewCommentForm__input",value:m,onChange:function(t){return h(t.target.value)}})}),Object(I.jsx)("button",{type:"submit",className:"NewCommentForm__submit-button button",onClick:function(t){return x(t)},children:"Add a comment"})]})}),J=(n(30),function(){var t=Object(r.useState)(!0),e=Object(E.a)(t,2),n=e[0],c=e[1],a=Object(s.c)(A),o=Object(s.c)(L);return Object(I.jsxs)("div",{className:"PostDetails",children:[Object(I.jsx)("h2",{children:"Post details:"}),a&&Object(I.jsx)("section",{className:"PostDetails__post",children:Object(I.jsx)("p",{children:a.body})}),Object(I.jsxs)("section",{className:"PostDetails__comments",children:[Object(I.jsx)("button",{type:"button",className:"button",onClick:function(){return c(!n)},children:"".concat(n?"Show":"Hide"," ").concat(o.length," comments")}),!n&&Object(I.jsx)("ul",{className:"PostDetails__list",children:o.map((function(t){return Object(I.jsxs)("li",{className:"PostDetails__list-item",children:[Object(I.jsx)("button",{type:"button",className:"PostDetails__remove-button button",children:"X"}),Object(I.jsx)("p",{children:"User [".concat(t.name,"] says: ").concat(t.body)})]},t.id)}))})]}),Object(I.jsx)("section",{children:Object(I.jsx)("div",{className:"PostDetails__form-wrapper",children:a&&!n&&Object(I.jsx)(U,{postId:a.id})})})]})}),M=function(){return Object(I.jsx)("div",{className:"App",children:Object(I.jsxs)("main",{className:"App__main",children:[Object(I.jsxs)("div",{className:"App__sidebar",children:[Object(I.jsx)(F,{}),Object(I.jsx)(T,{})]}),Object(I.jsx)("div",{className:"App__content",children:Object(I.jsx)(J,{})})]})})},Y=n(11),B=n(7),H=n(15),R={posts:[],users:[],postDetails:null,postComments:[]},X=Object(H.a)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case w:return Object(B.a)(Object(B.a)({},t),{},{posts:Object(Y.a)(e.payload)});case N:return Object(B.a)(Object(B.a)({},t),{},{users:Object(Y.a)(e.payload)});case k:return Object(B.a)(Object(B.a)({},t),{},{postDetails:Object(B.a)({},e.payload)});case C:return Object(B.a)(Object(B.a)({},t),{},{postComments:Object(Y.a)(e.payload)});default:return t}})),q=function(){return Object(I.jsx)(s.a,{store:X,children:Object(I.jsx)(o.a,{children:Object(I.jsx)(M,{})})})};a.a.render(Object(I.jsx)(q,{}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.37fb39bf.chunk.js.map